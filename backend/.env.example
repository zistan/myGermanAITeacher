# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/german_learning

# AI Services
ANTHROPIC_API_KEY=sk-ant-your-api-key-here
AI_MODEL=claude-sonnet-4-5 #claude-haiku-4-5

# Security
SECRET_KEY=your-secret-key-here-generate-with-openssl-rand-hex-32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Application Settings
APP_NAME=German Learning App
DEBUG=True
ENVIRONMENT=development

# Redis (optional, for caching)
REDIS_HOST=localhost
REDIS_PORT=6379

# CORS Settings (add your frontend URL)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# =============================================================================
# BATCH FEEDING SYSTEM CONFIGURATION
# =============================================================================

# Vocabulary Batch Limits
BATCH_VOCAB_MAX_WORDS_PER_RUN=50           # Max new words per batch execution
BATCH_VOCAB_MAX_WORDS_TOTAL=25000          # Global cap (stop when reached)
BATCH_VOCAB_CHUNK_SIZE=40                  # Words per AI call

# Grammar Batch Limits
BATCH_GRAMMAR_MAX_EXERCISES_PER_RUN=25     # Max exercises per batch execution
BATCH_GRAMMAR_MAX_EXERCISES_TOTAL=5000     # Global cap
BATCH_GRAMMAR_TARGET_PER_TOPIC=50          # Target exercises per topic
BATCH_GRAMMAR_MAX_NEW_TOPICS_PER_RUN=2     # Max new topics to create per run

# AI Rate Limiting
BATCH_AI_CALLS_PER_MINUTE=20               # Max API calls per minute
BATCH_AI_RETRY_DELAY_SECONDS=5             # Delay after rate limit hit
BATCH_AI_MAX_RETRIES=3                     # Max retries on failure

# Batch Scheduling (Conservative Daily/Weekly Caps)
BATCH_DAILY_CAP_WORDS=50                   # Daily vocabulary limit
BATCH_DAILY_CAP_EXERCISES=25               # Daily grammar limit
BATCH_WEEKLY_CAP_WORDS=200                 # Weekly vocabulary limit
BATCH_WEEKLY_CAP_EXERCISES=100             # Weekly grammar limit

# Deduplication Settings
BATCH_VOCAB_CHECK_EXISTING=true            # Query DB before generating
BATCH_VOCAB_SIMILARITY_THRESHOLD=0.85      # Fuzzy match threshold (0.0-1.0)
BATCH_GRAMMAR_CHECK_DUPLICATES=true        # Check for similar exercises

# Execution Tracking
BATCH_EXECUTION_LOG_PATH=logs/batch_execution.json  # Persistent batch logs
BATCH_HISTORY_RETENTION_DAYS=90            # How long to keep batch history

# Content Priority (B2-C1 Heavy Distribution)
BATCH_VOCAB_PRIORITY_CATEGORIES=business,cefr_core  # Comma-separated
BATCH_VOCAB_CEFR_DISTRIBUTION=A1:5,A2:10,B1:20,B2:30,C1:25,C2:10  # Percentage

# Grammar Content Priority
BATCH_GRAMMAR_PRIORITY_CATEGORIES=cases,verbs,tenses  # Focus on core grammar
BATCH_GRAMMAR_MISSING_TOPICS=subjunctive,passive_voice,indirect_speech  # New topics to create
